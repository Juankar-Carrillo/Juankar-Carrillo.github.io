<!doctype html><html lang=es><head><meta charset=utf-8><title>Construye tu propio ROUTER Casero - Cucumber Hack</title><meta name=description content="Crea tu Router con un PC + PFsense / OPNsense"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=twitter:card content="summary_large_image"><meta property="og:site_name" content="Cucumber Hack"><meta property="og:title" content="Construye tu propio ROUTER Casero"><meta property="og:description" content="Crea tu Router con un PC + PFsense / OPNsense"><meta property="og:type" content="article"><meta property="og:url" content="https://juankar-carrillo.github.io/blog/2022-09-02-router/"><meta property="og:image" content="https://juankar-carrillo.github.io/images/Router/0.avif"><meta property="og:image:alt" content="Frontal"><link rel=manifest href="/favicon/site.webmanifest?v=1"><link rel=apple-touch-icon sizes=180x180 href="/favicon/apple-touch-icon.png?v=1"><link rel=icon type=image/png sizes=32x32 href="/favicon/favicon-32x32.png?v=1"><link rel=icon type=image/png sizes=16x16 href="/favicon/favicon-16x16.png?v=1"><link rel=mask-icon href="/favicon/safari-pinned-tab.svg?v=1" color=#ffffff><link rel="shortcut icon" href="/favicon/favicon.ico?v=1"><meta name=msapplication-config content="/favicon/browserconfig.xml?v=1"><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.110.0"><link rel=stylesheet href=/css/bundle.min.5233f2a4cd515395301b4154f6c1c621695e8cf53faa0935b76ac52fed7f4585.css integrity="sha256-UjPypM1RU5UwG0FU9sHGIWlejPU/qgk1t2rFL+1/RYU="><link rel=stylesheet href=/css/add-on.css></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=/ class=nav>Blog</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=/ class="nav link"><i class='fa fa-home'></i> Principal</a>
<a href=/about class="nav link"><i class='far fa-id-card'></i> Sobre mi</a>
<a href=/categories class="nav link"><i class='fas fa-sitemap'></i> Categorias</a>
<a href=#search-input class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu></header><div id=wrapper><section id=site-intro><a href=/><img src=/images/logo.jpg class=circle width=100 alt="Cucumber Hack"></a><header><h1>Cucumber Hack</h1></header><main><p>Blog sobre ciberseguridad y tecnología</p></main><footer><ul class=socnet-icons><li><a href=//github.com/Juankar-Carrillo target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//www.linkedin.com/in/jkarri target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//youtube.com/channel/UCu-sqIdB5NG7AD8_GeYPDUQ target=_blank rel=noopener title=YouTube class="fab fa-youtube"></a></li><li><a href=//instagram.com/cucumberhack target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/CucumberHack target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=mailto:cucumberhack@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul></footer></section><main id=site-main><article><div class=post><header><div class=title><h2><a href=/blog/2022-09-02-router/>Construye tu propio ROUTER Casero</a></h2><p>Crea tu Router con un PC + PFsense / OPNsense</p></div><div class=meta><time datetime="2022-09-02 00:00:00 +0000 UTC">2 de Enero, 2022</time><p>Juankar</p><p>Lectura De 2 Minutos</p></div></header><div id=socnet-share><a href="//twitter.com/share?text=Construye%20tu%20propio%20ROUTER%20Casero&url=https%3a%2f%2fjuankar-carrillo.github.io%2fblog%2f2022-09-02-router%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjuankar-carrillo.github.io%2fblog%2f2022-09-02-router%2f&title=Construye%20tu%20propio%20ROUTER%20Casero" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="mailto:?subject=Mira%20esta%20publicaci%c3%b3n%20por Juankar&body=https%3a%2f%2fjuankar-carrillo.github.io%2fblog%2f2022-09-02-router%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></div><div class=content><a href=/blog/2022-09-02-router/ class=image style="--bg-image:url('/images/Router/0.avif')"><img class=stretchV src=/images/Router/0.avif alt=Frontal></a><nav id=TableOfContents></nav><ul><li><em>Artículo enfocado a diversión, no conciso y sin demasiado valor técnico</em> *</li></ul><p>Tras haber probado varios router de operador y libres modificados con DD-WRT finalmente me decidí a instalar como router principal (todavía estoy en fase de pruebas) este PC <a href=https://www.dell.com/support/kbdoc/es-es/000124288/dell-optiplex-780-ultra-small-form-factor-usff-gu%c3%ada-del-sistema>Dell Optiplex 780 usff</a> que tenia por casa y usaba de NAS con <strong>XPEnology</strong></p><p><img src=/images/Router/final.avif alt="Dell 1" title="Dell 780 usff"></p><hr><p>Es un PC viejo (775) pero que cumple su propósito perfectamente y con un consumo de media de unos 30w. No me pondré muy técnico en especificaciones porque para esto y hacer pruebas vale casi cualquier PC que tengáis por casa (para probar también lo podéis emular en plataformas como <strong>Proxmox</strong> o <strong>ESXi</strong>)</p><p><img src=/images/Router/antes.avif alt="Dell 1" title="Dell 780 usff frontal"> <img src=/images/Router/antes2.avif alt="Dell 1" title="Dell 780 usff HDD"> <img src=/images/Router/antes1.avif alt="Dell 1" title="Dell 780 usff mini PCI-e"></p><hr><p>Lo que si toca hacerle (por lo menos en mi caso) es una ligera modificación de HW ya que necesito ponerle más puertos de red GE y dado el pequeño factor de forma de este PC, he implementado una tarjeta mini PCI-e con 2 rj45 GE</p><p><img src=/images/Router/2rj.avif alt="Dell 1" title="Tarjeta de red"> <img src=/images/Router/2rj1.avif alt="Dell 1" title="Tarjeta de red 1"></p><p>Para instalarla he tenido que adaptar el frontal sustituyendo la placa con los conectores de audio y usb por esta tarjeta y con una Dremel dejarlo lo mejor posible</p><p><img src=/images/Router/Frontalrj.avif alt="Dell 1" title=frontal></p><p>También he tenido que quitar el soporte para el HDD y poner este en un adaptador que tenía para sustituir la unidad de DVD ya que necesitaba poner un ventilador al Chipset porque ahora con la tarjeta de red y las líneas pci-e pasando por el se calentaba mas de lo normal</p><p><img src=/images/Router/alzado.avif alt="Dell 1" title="Alzado final"></p><p>La otra opción hubiera sido poner un adaptador de red por usb, que también lo probe y la interfaz de PFsense me reconoció perfectamente, pero dado que tengo USB 2.0 con una tasa de transferencia máxima de 480Mbps pues no podría llegar a velocidades GE que es lo que pretendo</p><p><img src=/images/Router/conectores.avif alt="Dell 1" title=conectores></p><p>Y otra opción seria meter <strong>VLAN</strong> con una sola interfaz de red, pero mis conocimientos aun no llegan a ese nivel por el momento… pero en un futuro lo probare!!</p><p><img src=/images/Router/pfsense.avif alt="Dell 1" title=PFsense></p><hr><p>Y así a sido como he puesto un PC que tenia en casa como Router y Firewall para hacer pruebas y aprender…<br>Ahora lo tengo con <strong>OPNsense</strong> y <a href=https://www.zerotier.com>Zerotier</a> metido para poder acceder a mi red del pueblo.<br>[Es la única opción de <strong>VPN</strong> que conozco a día de hoy con la que poder conectar mi casa (Piso con conexión de Fibra y dentro de un CG-NAT) con mi pueblo (Router 4G) sin necesidad de tener ningún puerto abierto]</p><p>En próximas entradas de Blog compartiré concisa y rápidamente como instalar <strong>Zerotier</strong> y <strong>Suricata</strong> como IPS/IDS</p><p><img src=/images/Router/0.avif alt="Dell 1" title=PFsense></p></div><footer><div class=stats><ul class=categories><li><a class=article-terms-link href=/categories/diy/>DIY</a></li><li><a class=article-terms-link href=/categories/router/>Router</a></li></ul><ul class=tags><li><a class=article-terms-link href=/tags/opnsense/>OPNsense</a></li><li><a class=article-terms-link href=/tags/pfsense/>PFsense</a></li><li><a class=article-terms-link href=/tags/zerotier/>ZeroTier</a></li><li><a class=article-terms-link href=/tags/firewall/>Firewall</a></li></ul></div></footer></div></article><div class=pagination><a href=/blog/2022-09-20-dns/ class="button left"><span>Privacidad en DNS</span></a>
<a href=/blog/2022-08-29-markdown/ class="button right"><span>Sintaxis Markdown</span></a></div></main><section id=site-sidebar><section id=categories><header><h1><a href=/categories>Categorías</a></h1></header><ul><li><a href=/categories/ciberseguridad/>ciberseguridad<span class=count>3</span></a><li><a href=/categories/windows/>windows<span class=count>2</span></a><li><a href=/categories/diy/>diy<span class=count>1</span></a><li><a href=/categories/dns/>dns<span class=count>1</span></a><li><a href=/categories/linux/>linux<span class=count>1</span></a><li><a href=/categories/markdown/>markdown<span class=count>1</span></a><li><a href=/categories/router/>router<span class=count>1</span></a><li><a href=/categories/ssh/>ssh<span class=count>1</span></a></li></ul></section></section><footer id=site-footer><ul class=socnet-icons><li><a href=//github.com/Juankar-Carrillo target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//www.linkedin.com/in/jkarri target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//youtube.com/channel/UCu-sqIdB5NG7AD8_GeYPDUQ target=_blank rel=noopener title=YouTube class="fab fa-youtube"></a></li><li><a href=//instagram.com/cucumberhack target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/CucumberHack target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=mailto:cucumberhack@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul><p class=copyright>© 2023 Cucumber Hack<br>Tema: <a href=https://github.com/pacollins/hugo-future-imperfect-slim target=_blank rel=noopener>Hugo Future Imperfect Slim</a><br>Adaptado de <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP</a> | Impulsado por <a href=https://gohugo.io/ title=0.110.0 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a>
<script src=/js/highlight.js></script>
<script>hljs.highlightAll()</script><script src=/js/bundle.min.f666d37d02c08b5a6e625fc191910ad3b94542f95415ff5a68c9cf47b909c3c0.js integrity="sha256-9mbTfQLAi1puYl/BkZEK07lFQvlUFf9aaMnPR7kJw8A="></script>
<script src=/js/add-on.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-4L10WY8NSJ","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>