<!doctype html><html lang=es><head><meta charset=utf-8><title>Comandos SSH - Cucumber Hack</title><meta name=description content="Comandos de uso diario"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=twitter:card content="summary_large_image"><meta property="og:site_name" content="Cucumber Hack"><meta property="og:title" content="Comandos SSH"><meta property="og:description" content="Comandos de uso diario"><meta property="og:type" content="article"><meta property="og:url" content="https://juankar-carrillo.github.io/blog/2022-11-13-ssh/"><meta property="og:image" content="https://juankar-carrillo.github.io/images/ssh/ssh_0.avif"><meta property="og:image:alt" content="Frontal"><link rel=manifest href="/favicon/site.webmanifest?v=1"><link rel=apple-touch-icon sizes=180x180 href="/favicon/apple-touch-icon.png?v=1"><link rel=icon type=image/png sizes=32x32 href="/favicon/favicon-32x32.png?v=1"><link rel=icon type=image/png sizes=16x16 href="/favicon/favicon-16x16.png?v=1"><link rel=mask-icon href="/favicon/safari-pinned-tab.svg?v=1" color=#ffffff><link rel="shortcut icon" href="/favicon/favicon.ico?v=1"><meta name=msapplication-config content="/favicon/browserconfig.xml?v=1"><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.105.0"><link rel=stylesheet href=/css/bundle.min.5233f2a4cd515395301b4154f6c1c621695e8cf53faa0935b76ac52fed7f4585.css integrity="sha256-UjPypM1RU5UwG0FU9sHGIWlejPU/qgk1t2rFL+1/RYU="><link rel=stylesheet href=/css/add-on.css></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=/ class=nav>Blog</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=/ class="nav link"><i class='fa fa-home'></i> Principal</a>
<a href=/about class="nav link"><i class='far fa-id-card'></i> Sobre mi</a>
<a href=/categories class="nav link"><i class='fas fa-sitemap'></i> Categorias</a>
<a href=#search-input class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu></header><div id=wrapper><section id=site-intro><a href=/><img src=/images/logo.jpg class=circle width=100 alt="Cucumber Hack"></a><header><h1>Cucumber Hack</h1></header><main><p>Blog sobre ciberseguridad y tecnología</p></main><footer><ul class=socnet-icons><li><a href=//github.com/Juankar-Carrillo target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//www.linkedin.com/in/jkarri target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//youtube.com/channel/UCu-sqIdB5NG7AD8_GeYPDUQ target=_blank rel=noopener title=YouTube class="fab fa-youtube"></a></li><li><a href=//instagram.com/cucumberhack target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/CucumberHack target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=mailto:cucumberhack@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul></footer></section><main id=site-main><article><div class=post><header><div class=title><h2><a href=/blog/2022-11-13-ssh/>Comandos SSH</a></h2><p>Comandos de uso diario</p></div><div class=meta><time datetime="2022-11-13 00:00:00 +0000 UTC">13 de Enero, 2022</time><p>Juankar</p><p>Lectura De 2 Minutos</p></div></header><div id=socnet-share><a href="//twitter.com/share?text=Comandos%20SSH&url=https%3a%2f%2fjuankar-carrillo.github.io%2fblog%2f2022-11-13-ssh%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjuankar-carrillo.github.io%2fblog%2f2022-11-13-ssh%2f&title=Comandos%20SSH" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="mailto:?subject=Mira%20esta%20publicaci%c3%b3n%20por Juankar&body=https%3a%2f%2fjuankar-carrillo.github.io%2fblog%2f2022-11-13-ssh%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></div><div class=content><a href=/blog/2022-11-13-ssh/ class=image style="--bg-image:url('/images/ssh/ssh_0.avif')"><img class=stretchH src=/images/ssh/ssh_0.avif alt=Frontal></a><p><strong>ESTADO DEL SERVICIO</strong></p><pre><code>systemctl status ssh   
</code></pre><p>*<em><strong>systemctl</strong></em> es una herramienta de administración central para controlar el sistema <strong>init</strong> | se usa para administrar, abrir, cerrar y reiniciar servicios en Linux</p><p><strong>INSTALACIÓN SERVIDOR</strong></p><pre><code>apt install openssh-server  
</code></pre><p><strong>INSTALACIÓN CLIENTE</strong></p><pre><code>apt install openssh-client  
</code></pre><p><strong>INICIAR Y DETENER SERVICIO EN LA SESIÓN ACTUAL</strong></p><pre><code>sudo systemctl start ssh
sudo systemctl stop ssh  
</code></pre><p><strong>REINICIAR SERVICIO</strong></p><pre><code>sudo systemctl reload ssh
sudo systemctl restart ssh
sudo systemctl reload-or-restart ssh  
</code></pre><p><strong>INICIAR Y DETENER SERVICIO EN EL ARRANQUE</strong></p><pre><code>sudo systemctl enable ssh
sudo systemctl disable ssh  
</code></pre><hr><p><strong>Crea Certificado SSH local en nuestra máquina</strong></p><pre><code>ssh-keygen  
</code></pre><p>*Certificado para autenticarnos con nuestros Servidores</p><p><strong>Ver / Copiar Certificado Público en el Servidor destino</strong></p><pre><code>cat .ssh/id_rsa.pub   
</code></pre><p><strong>EN SERVIDOR DESTINO:</strong></p><pre><code>nano .ssh/authorized_keys  
</code></pre><p>*Dentro, <em><strong>pegar</strong></em> la clave pública <code>ìd_rsa.pub</code><br>*<code>logout</code>y al volver a entrar por ssh NO nos pedirá contraseña</p><hr><p><strong>Copiar <code>id_rsa.pub</code>directa al Servidor Destino</strong></p><pre><code>ssh-copy-id user@10.10.10.x:  
</code></pre><p>*Copiar la <code>id-rsa.pub</code> directa a <code>/authorized_keys</code> del servidor destino</p><hr><p><strong>Ejecutar aplicaciones del Servidor con interfaz gráfica en tu máquina</strong></p><pre><code>ssh -X user@10.10.10.x   
</code></pre><ul><li><code>Linux - Linux</code><br><img src=/images/ssh/ssh_1.avif alt="ssh de Linux a Linux" title="SSH -X en Linux"></li><li><code>Windows - Linux</code><br>Descargamos e instalamos <a href=https://sourceforge.net/projects/xming/>Xming</a> y <a href=https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html>PuTTY</a> en Windows.<br>Ejecutamos <em><strong>Xming</strong></em> (queda en segundo plano) | Abrimos <em><strong>PuTTY</strong></em> [SSH/X11/Enable]<br><img src=/images/ssh/ssh_2.avif alt="Xming y X11" title="PuTTY con X11"><br>Nos conectamos y vemos como podemos abrir ventanas del servidor en nuestro pc<br><img src=/images/ssh/ssh_3.avif alt="Xming y X11" title="PuTTY con X11"></li><li><code>Mac - Linux</code><br>Necesitaremos descargar <a href=https://www.xquartz.org/>XQuartz</a></li></ul><hr><p><strong>Crea Túnel SSH entre cliente y servidor | Proxy SOCKS</strong></p><pre><code>ssh -D 9870 user@10.10.10.x
ssh -D 0.0.0.0:9870 user@ip_server_ssh    
</code></pre><p>*IP:Puerto = Específica que el proxy escuche de otra IP distinta a localhost [ con 0.0.0.0 abrimos el puerto a todas las IP configuradas ]<br>*Firefox / Proxy / SOCKS Host [localhost:9870] | o configurar SOCKS desde <em><strong>FoxyProxy</strong></em><br><img src=/images/ssh/ssh_4.avif alt="Configuración de Proxy en Firefox" title="Configuración de proxy en Firefox y Foxyproxy"></p><pre><code>sudo ss -npltu|grep 9870  
</code></pre><p>*Para ver si esta el puerto abierto | <a href=http://miip.net/>miip.net</a> para comprobar ip pública</p></div><footer><div class=stats><ul class=categories><li><a class=article-terms-link href=/categories/ssh/>SSH</a></li></ul><ul class=tags><li><a class=article-terms-link href=/tags/ssh/>SSH</a></li><li><a class=article-terms-link href=/tags/systemctl/>Systemctl</a></li></ul></div></footer></div></article><div class=pagination><a href=/blog/2022-09-20-dns/ class="button right"><span>Privacidad en DNS</span></a></div></main><section id=site-sidebar><section id=categories><header><h1><a href=/categories>Categorías</a></h1></header><ul><li><a href=/categories/ciberseguridad/>ciberseguridad<span class=count>2</span></a><li><a href=/categories/windows/>windows<span class=count>2</span></a><li><a href=/categories/diy/>diy<span class=count>1</span></a><li><a href=/categories/dns/>dns<span class=count>1</span></a><li><a href=/categories/linux/>linux<span class=count>1</span></a><li><a href=/categories/markdown/>markdown<span class=count>1</span></a><li><a href=/categories/router/>router<span class=count>1</span></a><li><a href=/categories/ssh/>ssh<span class=count>1</span></a></li></ul></section></section><footer id=site-footer><ul class=socnet-icons><li><a href=//github.com/Juankar-Carrillo target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//www.linkedin.com/in/jkarri target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//youtube.com/channel/UCu-sqIdB5NG7AD8_GeYPDUQ target=_blank rel=noopener title=YouTube class="fab fa-youtube"></a></li><li><a href=//instagram.com/cucumberhack target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/CucumberHack target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=mailto:cucumberhack@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul><p class=copyright>© 2022 Cucumber Hack<br>Tema: <a href=https://github.com/pacollins/hugo-future-imperfect-slim target=_blank rel=noopener>Hugo Future Imperfect Slim</a><br>Adaptado de <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP</a> | Impulsado por <a href=https://gohugo.io/ title=0.105.0 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a>
<script src=/js/highlight.js></script>
<script>hljs.highlightAll()</script><script src=/js/bundle.min.f666d37d02c08b5a6e625fc191910ad3b94542f95415ff5a68c9cf47b909c3c0.js integrity="sha256-9mbTfQLAi1puYl/BkZEK07lFQvlUFf9aaMnPR7kJw8A="></script>
<script src=/js/add-on.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-4L10WY8NSJ","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>